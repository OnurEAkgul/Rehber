<div class="container col-md-8 max-width-responsive"  >
  <ng-container *ngIf="kisiBilgi; else notFound">
    <div class="row">
      <div class="col-md-8">
        <div class="mt-3" [hidden]="true">
          <label for="rehberId" class="form-label">Kişi Id</label>
          <input type="text" disabled id="rehberId" name="rehberId" class="form-control" placeholder="{{ id }}" />
        </div>
      </div>

      <form #form="ngForm" (ngSubmit)="onFormSubmit()" class="">
        <div class="row g-3">
          <div class="">
            <div class="mt-3">
              <label for="guncelleAdi" class="form-label">Adı</label>
              <input type="text" id="guncelleAdi" class="form-control required" name="guncelleAdi"
                placeholder="{{ kisiBilgi.name }}" [(ngModel)]="kisiBilgi.name" #nameInput="ngModel" required />
              <div *ngIf="formSubmitted && nameInput.invalid" class="text-danger">
                Geçerli bir isim giriniz
              </div>
            </div>
          </div>

          <div class="">
            <div class="mt-3">
              <label for="guncelleSoyadi" class="form-label">Soyadı</label>
              <input type="text" id="guncelleSoyadi" class="form-control required" name="guncelleSoyadi"
                placeholder="{{ kisiBilgi.surname }}" [(ngModel)]="kisiBilgi.surname" #surnameInput="ngModel" required />
              <div *ngIf="formSubmitted && surnameInput.invalid" class="text-danger">
                Geçerli bir soyisim giriniz
              </div>
            </div>
          </div>

          <div class="col-md-12">
            <div class="mt-2">
              <label for="guncelleEmail" class="form-label"> E-posta adresi </label>
              <input type="text" id="guncelleEmail" class="form-control required" name="guncelleEmail"
                placeholder="{{ kisiBilgi.email }}" [(ngModel)]="kisiBilgi.email" #emailInput="ngModel" required />
              <div *ngIf="formSubmitted && emailInput.invalid" class="text-danger">
                Geçerli bir e-posta adresi giriniz
              </div>
            </div>
          </div>

          <div class="col-md-12">
            <div class="mt-2">
              <label class="form-label" for="guncellePhone">Telefon numarası</label>
              <input pattern="[0-9]{3}[0-9]{3}[0-9]{4}" type="tel" id="eklePhone" class="form-control required"
                name="eklePhone" placeholder="Telefon numarası girin" [(ngModel)]="kisiBilgi.phone"
                (ngModelChange)="onNumericInputChange()" />
            </div>
          </div>

          <div class="col-md-12 mt-3 d-flex">
            <button type="submit" class="btn btn-primary">
              Kullanıcı bilgilerini güncelle
            </button>

            <button type="button" class="btn btn-danger ms-3" (click)="onDelete()" [disabled]="deleteInProgress">
              <span *ngIf="deleteInProgress" class="spinner-border spinner-border-sm me-2" role="status"
                aria-hidden="true"></span>
              Kullanıcıyı sil
            </button>
          </div>
        </div>
      </form>
    </div>
  </ng-container>

  <ng-template #notFound>
    <div class="alert alert-warning mt-3" role="alert">Kişi Bulunamadı</div>
  </ng-template>
</div>
